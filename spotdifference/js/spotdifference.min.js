var SpotDifference;SpotDifference=function(){function a(a){null==a&&(a={}),this.options={image_div:"#findimage",map_name:"mapname",class_mark:"mark",onLoad:function(a){},onStart:function(){},onFind:function(a,b){},onEnd:function(a){}},this.differences=0,this.start_time=!1,this.options=$.extend(this.options,a),this.initialize()}return a.prototype.initialize=function(){return this.differences=$("map[name="+this.options.map_name+"] area").length,$("img[usemap]").rwdImageMaps(),$(this.options.image_div).css("position","relative"),$("map[name="+this.options.map_name+"] area").on("click",function(a){return function(b){b.preventDefault(),a.addMark(b),a.finded($(b.target))}}(this)),this.options.onLoad(this.differences),this.start_time=(new Date).getTime()},a.prototype.finded=function(a){var b;if(a.remove(),this.options.onFind(this.differences-$("map[name="+this.options.map_name+"] area").length,this.differences),$("map[name="+this.options.map_name+"] area").length<=0)return b=(new Date).getTime(),this.options.onEnd((b-this.start_time)/1e3)},a.prototype.addMark=function(a){var b,c,d;return c=a.pageX-$(this.options.image_div).offset().left,d=a.pageY-$(this.options.image_div).offset().top,b=$("<i />").addClass(this.options.class_mark),b.css("position","absolute"),$(this.options.image_div).append(b),b.css("top",d-b.height()/2),b.css("left",c-b.height()/2)},a}();